import{w as v,d as y}from"./index-5b3ca5ea.js";import{l as E,a as O}from"./i18n-util-f913d392.js";var _=t=>Object.fromEntries(Object.entries(t).map(([n,r])=>n!=="i"&&r&&r!="0"&&[n,r]).filter(Boolean)),k=t=>Object.fromEntries(Object.keys(t).map(n=>{const r=t[n];return[n,Array.isArray(r)?r.map(s=>s==null?void 0:s.trim()):r===!!r?r:r==null?void 0:r.trim()]})),j=t=>{const[n="",...r]=t.split("|"),[s="",e]=n.split(":"),[o,l]=s.split("?");return{k:o,i:e,n:l==="",f:r}},L=(t,n)=>{let[r,s]=t.split(":");s||(s=r,r=n);const e=s.split("|"),[o,l,a,i,c,u]=e,m=e.filter(P=>P!==void 0).length;return m===1?{k:r,r:o}:m===2?{k:r,o,r:l}:m===3?{k:r,z:o,o:l,r:a}:{k:r,z:o,o:l,t:a,f:i,m:c,r:u}},b=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,f=t=>t.substring(1,t.length-1),w=(t,n=!0,r="",s="")=>t.split(b).map(e=>{if(!e.match(b))return e;const o=f(e);if(o.startsWith("{"))return L(f(o),s);const l=j(o);return s=l.k||s,!r&&(r=s),l}).map(e=>{if(typeof e=="string")return e;e.k||(e.k=r||"0");const o=k(e);return n?_(o):o}),A=t=>!!(t.o||t.r),h=/^\{.*\}$/,R=(t,n,r)=>n.reduce((s,e)=>{var o,l;return(l=e.match(h)?(()=>{var a;const i=Object.fromEntries(f(e).split(",").map(c=>c.split(":").map(u=>u.trim())));return(a=i[s])!=null?a:i["*"]})():(o=t[e])==null?void 0:o.call(t,s))!=null?l:s},r),S=(t,{z:n,o:r,t:s,f:e,m:o,r:l},a)=>{switch(n&&a==0?"zero":t.select(a)){case"zero":return n;case"one":return r;case"two":return s;case"few":return e;case"many":return o;default:return l}},I=/\?\?/g,T=(t,n,r,s)=>t.map(e=>{if(typeof e=="string")return e;const{k:o="0",f:l=[]}=e,a=s[o];if(A(e))return((typeof a=="boolean"?a?e.o:e.r:S(n,e,a))||"").replace(I,a);const i=l.length?R(r,l,a):a;return(""+(i!=null?i:"")).trim()}).join(""),z=(t,n,r,s)=>{const e=s[0],o=e&&typeof e=="object"&&e.constructor===Object,l=s.length===1&&o?e:s;return T(t,n,r,l)},g=()=>new Proxy(Object.assign(()=>"",{}),{get:(t,n)=>n==="length"?0:g()}),C=(t,n)=>t[n]||(t[n]=w(n)),V=(t,n)=>{const r={},s=new Intl.PluralRules(t);return(e,...o)=>z(C(r,e),s,n,o)};function B(t,n,r={}){return d(n,V(t,r))}var p=(t={},n)=>typeof t=="string"?n.bind(null,t):Object.assign(Object.defineProperty(()=>"","name",{writable:!0}),t),d=(t,n)=>new Proxy(p(t,n),{get:(r,s)=>s===Symbol.iterator?[][Symbol.iterator].bind(Object.values(r).map(e=>p(e,n))):d(r[s],n)}),G=(t,n={})=>{const r=v(),s=v(g()),e=y(r,(a,i)=>i(a)),o=new Proxy({},{get:(a,i)=>i==="subscribe"?s.subscribe:s[i]});return{locale:e,LL:o,setLocale:a=>{r.set(a),s.set(B(a,t[a],n[a]))}}};const{locale:x,LL:F,setLocale:N}=G(O,E);export{F as L,x as l,N as s};
